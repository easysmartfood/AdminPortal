<!DOCTYPE html>
<html lang="en"><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="../../assets/ico/favicon.ico">

    <title>Admin Portal</title>
    
    

    <!-- Bootstrap core CSS -->
    <link href="dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Custom styles for this template -->
    <link href="dist/css/dashboard.css" rel="stylesheet">

    <!-- Just for debugging purposes. Don't actually copy this line! -->
    <!--[if lt IE 9]><script src="../../assets/js/ie8-responsive-file-warning.js"></script><![endif]-->

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  <style id="holderjs-style" type="text/css"></style>
  
 <style>
  /* Badger
------------------------- */

[class*="badger"] {
    position: relative;
    margin: 15px 0 0 115px;
    padding: 39px 19px 14px;
    background: #fff;
    border: 1px solid #ddd;
    border-radius: 6px;
}

[class*="badger"]:after {
    content: attr(data-badger);
    position: absolute;
    top: 0;
    padding: 3px 7px;
    font-size: 12px;
    font-weight: bold;
    background: #999;
    color: #fff;
}

[class*="table table-striped"]{
	font-size: 12px;
}

.badger-left:after {
    left: 0;
    border-radius: 6px 0 6px 0;
}

.badger-right:after {
    right: 0;
    border-radius: 0 6px 0 6px;
}

.badger-danger:after {
    background: #d9534f;
}

.badger-warning:after {
    background: #f0ad4e;
}

.badger-success:after {
    background: #5cb85c;
}

.badger-info:after {
    background: #5bc0de;
}

.badger-inverse:after {
    background: #222;
}
</style> 
  
  </head>

  <body style="" onload="getUrlData()">
 

    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="index.html">EasySmartFood</a>
        </div>
        <div class="navbar-collapse collapse">
          <ul class="nav navbar-nav navbar-right">
            <li><a href="#">Dashboard</a></li>
            <li><a href="#">Settings</a></li>
            <li><a href="#">Profile</a></li>
            <li><a href="#">Help</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <input type="text" class="form-control" placeholder="Search...">
          </form>
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row">
        <div class="col-sm-3 col-md-2 sidebar">
          <ul class="nav nav-sidebar">
            <li><a href="index.html">Overview</a></li>
            <li><a href="vieworders.html">View Orders</a></li>
            <li><a href="viewrestaurants.html">View Restaurants</a></li>
            <li class="active"><a href="addrestaurant.html">Add Restaurant</a></li>
            <li><a href="viewfooditems.html">View Food Items</a></li>
            <li><a href="addfooditem.html">Add Food Items</a></li>
            
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item</a></li>
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
            <li><a href="">More navigation</a></li>
          </ul>
          <ul class="nav nav-sidebar">
            <li><a href="">Nav item again</a></li>
            <li><a href="">One more nav</a></li>
            <li><a href="">Another nav item</a></li>
          </ul>
        </div>
    
        <div class="container">
        
         
	<div class="row">
		<h2 class="sub-header1">Add Restaurant</h2>
		<div class="row">
  	<!-- 	<div class="col-xs-12 col-md-8"></div>  -->
  	<!--     <div class="col-xs-6 col-md-4"></div> -->
  	<!-- 	<div class="col-xs-6 col-md-4"></div> -->
		</div>
		
        
        <div class="badger-left" data-badger="Summary">
         <div class="table-responsive">
            <button id="saveRestaurant" type="submit" class="btn btn-primary">Add Restaurant</button>
            <table id="restaurantTable" class="table table-striped">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Visible</th>
                  <th>Featured</th>
                  <th>Region</th>
                  <th>Sub Region</th>
                  <th>Cuisine</th>
                  <th>Popular</th>
                </tr>
              </thead>
              <tbody>
         		 <td><input type='text' id='restaurantName' value=''/></td>
         		 <td>
         		 <select id='Visible' name="IsVisible">
					<option value="Yes">Yes</option>
					<option value="No">No</option>	
				 </select> 
				 </td>
				 <td>
         		 <select id='Featured' name="IsFeatured">
					<option value="Yes">Yes</option>
					<option value="No">No</option>	
				 </select> 
				 </td>
				 <td>
         		 <select id='region' >
					<option value="Kaloor">Kaloor</option>
					<option value="Palarivattom">Palarivattom</option>	
					<option value="Edapally">Edapally</option>	
					<option value="Kakkanad">Kakkanad</option>	
					<option value="Infopark">Infopark</option>
					<option value="Panampilly Nagar">Panampilly Nagar</option>
					<option value="Kalamassery">Kalamassery</option>
					<option value="Thrikakkara">Thrikakkara</option>
					<option value="Vazhakkala">Vazhakkala</option>
				 </select> 
				 </td>
				 <td><input type='text' id='subRegion' value=''/></td>
				 <td>
         		 <select id='cuisine' >
					<option value="Indian">Indian</option>
					<option value="Chinese">Chinese</option>	
					<option value="Arabian">Arabian</option>	
					<option value="Malabar">Malabar</option>	
					<option value="North Indian">North Indian</option>
					<option value="Western">Western</option>
					<option value="Multi Cuisine">Multi Cuisine</option>
				 </select> 
				 </td>
				 
				 <td>
         		 <select id='Popular' name="Popular">
					<option value="Yes">Yes</option>
					<option value="No">No</option>	
				 </select> 
				 </td>
				
              </tbody>
            </table>
          </div>
        
		</div>

<div class="badger-right badger-info" data-badger="Address">
         <div class="table-responsive">
            <table id="foodItemTable1" class="table table-striped">
              <thead>
                <tr>
                  <th>Address Line1</th>
                  <th>Address Line 2</th>
                  <th>City</th>
                  <th>Postal Code</th>       
                  <th>Phone</th>    
                  <th>Email</th>    

                  
                </tr>
              </thead>
              <tbody>
          		<td><input type='text' id='address1' value=''/></td>
          		<td><input type='text' id='address2' value=''/></td>
          		<td><input type='text' id='city' value=''/></td>
          		<td><input type='text' id='zip' value=''/></td>
          		<td><input type='text' id='phone' value=''/></td>
          		<td><input type='text' id='email' value=''/></td>

          
              </tbody>
            </table>
          </div>
</div> 

<div class="badger-left badger-danger" data-badger="Timing">
  <div class="table-responsive">
            <table id="foodItemTable2" class="table table-striped">
              <thead>
                <tr>
                  <th>Open Time</th>
                  <th>Close Time</th>
                  <th>Holiday</th>
                  <th>Misc Closed</th>
                  <th>Food Time Category</th>
                  <th>Primary Image</th>
                </tr>
              </thead>
              <tbody>
                <td><input type='text' id='openTime' value=''/></td>
                <td><input type='text' id='closeTime' value=''/></td>
          		<td>
          		
         		 <select id='holiday' >
					<option value="None">None</option>
					<option value="Sunday">Sunday</option>
				 </select> 
				 </td>
				 <td>
         		 <select id='MiscClosed' name="MiscClosed">
					<option value="Yes">Yes</option>
					<option value="No">No</option>	
				 </select> 
				 </td>
          		 <td>
         		 <select id='FoodTimeCategory' >
					<option value="All Day">All Day</option>
					<option value="Lunch">Lunch</option>	
					<option value="Dinner">Dinner</option>	
					<option value="Snacks">Snacks</option>	
				 </select> 
				 </td>
				 <td><input type='text' id='thumbnailImage' value=''/></td>
              </tbody>
            </table>
          </div>
</div>

<div class="badger-right badger-warning" data-badger="Discount">
 <div class="table-responsive">
            <table id="foodItemTable3" class="table table-striped">
              <thead>
                <tr>
                  <th>Discount %</th>
                  <th>Discount Code</th>
                  <th>Discount Amt</th>
                  <th>Tax Class</th>
                </tr>
              </thead>
              <tbody>
                  <td><input type='text' id='discountPercent' value=''/></td>
                  <td><input type='text' id='discountCode' value=''/></td>
                  <td><input type='text' id='discountAmt' value=''/></td>
                   <td>
         		 <select id='taxClass' >
					<option value="default">default</option>
				 </select> 
				 </td>

          
              </tbody>
            </table>
          </div>
</div>

<div class="badger-left badger-success" data-badger="Images">
<div class="table-responsive">
            <table id="foodItemTable4" class="table table-striped">
              <thead>
                <tr>
                  <th>Image1</th>
                  <th>Image2</th>
                  <th>Image3</th>
                  <th>Image4</th>
                  <th>Image5</th>
                </tr>
              </thead>
              <tbody>
          
              </tbody>
            </table>
          </div>
</div>

<div class="badger-right badger-inverse" data-badger="Other">
<div class="table-responsive">
            <table id="foodItemTable5" class="table table-striped">
              <thead>
                <tr>
                  
                  <th>Latitude</th>
                  <th>Longitude</th>
                  <th>Comments</th>
                  <th>Reviews</th>
                </tr>
              </thead>
              <tbody>
          
                <td><input type='text' id='latitude' value=''/></td>
          		<td><input type='text' id='longitude' value=''/></td>
              </tbody>
            </table>
          </div>
</div>
        
        
	</div>
</div>
        
        
        <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
<!--          <h1 class="page-header">Dashboard</h1> -->  


       
        </div>
      </div>
    </div>
    
    <!-- Hidden Fields -->
    <input type="hidden" name="orderJson" value="">

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <!-- Placed at the end of the document so the pages load faster -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="dist/js/bootstrap.min.js"></script>
    <script src="dist/js/docs.min.js"></script>
    <script src="dist/js/bootstrap-paginator.min.js"></script>
    <script type="text/javascript" src="dist/js/jquery.tablesorter.js"></script> 
    <script type="text/javascript" src="dist/js/jquery.tablesorter.pager.js"></script> 
    <script type="text/javascript" src="dist/js/jquery.dataTables.js"></script> 
     <script src="dist/js/jquery-ui.js"></script>
    <script>
    jQuery.browser = {};
    (function () {
        jQuery.browser.msie = false;
        jQuery.browser.version = 0;
        if (navigator.userAgent.match(/MSIE ([0-9]+)\./)) {
            jQuery.browser.msie = true;
            jQuery.browser.version = RegExp.$1;
        }
    })();
    </script>
    <script>
    var orderJsonObj;
    var corderStatus;
    function getParameter(paramName) {
        var searchString = window.location.search.substring(1), i, val, params = searchString.split("&");

        for ( i = 0; i < params.length; i++) {
            val = params[i].split("=");
            if (val[0] == paramName) {
                return val[1];
            }
        }
        return null;
    } 	
    
    function getUrlData() {
    	 $.ajax({  
	            type: "GET",  
  	              url: "http://1.easysmartfood.appspot.com/restaurant",  
	                        dataType: "json",  

	            success: function(restdata){  
	            	
	            	
	            	var options = $("#restaurants");
	        //    	options.append($("<option />").val("Hello"));
	            	options.append(new Option("", ""));
	            	for (var i = 0; i < restdata.length; i++) {
	            //		alert(restdata[i].name);
	            		options.append(new Option(restdata[i].name, restdata[i].uuid));
	            	//	options.append($("<option />").val(restdata.name));
	            	}
	            		
	            	
	            
		 		},  
       		error: function(e){  
         		  alert('Not able to Fetch restaurants ' + e);  
      		 }  
		
		 });
    }
    
    $(function() {
    	$("#saveRestaurant").click(function(){
    		restaurantJson=new Object();
    		var uuid = createGuid();
    		restaurantJson.uuid = uuid;
    		restaurantJson.name=$('#restaurantName').val();
    		restaurantJson.visible=$("#Visible  option:selected").val();
    		restaurantJson.featured=$('#Featured option:selected').val();
    		restaurantJson.region=$('#region option:selected').val();
    		restaurantJson.subRegion=$('#subRegion').val();
    		restaurantJson.cuisine=$('#cuisine').val();
    		restaurantJson.popular=$('#Popular').val();
    		
    		restaurantJson.address1=$('#address1').val();
    		restaurantJson.address2=$('#address2').val();
    		restaurantJson.city=$('#city').val();
    		restaurantJson.zip=$('#zip').val();
    		restaurantJson.phone=$('#phone').val();
    		restaurantJson.email=$('#email').val();
    		
    		restaurantJson.openTime=$('#openTime').val();
    		restaurantJson.closeTime=$('#closeTime').val();
    		restaurantJson.holiday=$('#holiday').val();
    		restaurantJson.miscClosed=$('#miscClosed').val();
    		restaurantJson.foodCategory=$('#FoodCategory').val();
    		restaurantJson.thumbnailImage=$('#thumbnailImage').val();
    		
    		
    		restaurantJson.discountPercent=$('#discountPercent').val();
    		restaurantJson.discountCode=$('#discountCode').val();
    		restaurantJson.discountAmt=$('#discountAmt').val();
    		restaurantJson.taxClass=$('#taxClass').val();
    		
    		restaurantJson.latitude=$('#latitude').val();
    		restaurantJson.longitude=$('#longitude').val();

    		
    		var postData = JSON.stringify(restaurantJson);
    		
    		//alert(postData);
    		$.ajax({
    			  url: 'https://api.mongolab.com/api/1/databases/restaurant/collections/restaurant?apiKey=S2fx57xyaqcVRY381V3RjkXo62hw9qbp',
    			  type: 'POST',
    			  dataType: "json",
    			  crossDomain: true,
    			  contentType: "application/json; charset=utf-8",
    			  data: postData,
    			  success: function(data) {
    			    alert('Restaurant Saved');
    			    location.reload();
    			  }
    			});
    		alert(postData);
    		
    	});
    });
    
    function createGuid()
    {
        return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {
            var r = Math.random()*16|0, v = c === 'x' ? r : (r&0x3|0x8);
            return v.toString(16);
        });
    }
    </script>

</body></html>
